<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>src.cli.menu_constructors &#8212; I-MaT 0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for src.cli.menu_constructors</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Module: cli.menu_constructors.py</span>
<span class="sd">================================</span>

<span class="sd">This module is designed to create, manage, and navigate through a menu interface in a console environment.</span>

<span class="sd">This Python module is designed to create, manage, and navigate through a menu interface in a console environment.</span>
<span class="sd">The module contains functions for constructing and displaying various types of menus (directed and undirected),</span>
<span class="sd">handling user navigation, executing menu-associated functions, displaying structured text information, and presenting</span>
<span class="sd">analysis results in an organized, readable format.</span>

<span class="sd">Module-level variables:</span>
<span class="sd">----------------------</span>
<span class="sd">menu_stack : list</span>
<span class="sd">    A stack to keep track of the previous menus. This stack is used to enable backward and forward navigation in</span>
<span class="sd">    undirected menus.</span>

<span class="sd">Functions</span>
<span class="sd">---------</span>
<span class="sd">- display_menu_print_results</span>
<span class="sd">- display_menu_print_textblock</span>
<span class="sd">- display_menu_request_selection</span>
<span class="sd">- display_menu_undirected</span>
<span class="sd">- print_menu_entries</span>
<span class="sd">- print_textblock</span>
<span class="sd">- util_convert_imat_datacont_to_pd_dataframe</span>
<span class="sd">- util_convert_pd_dataframe_to_imat_datacont</span>

<span class="sd">These functions help in providing a smooth user interface for the command-line operation, ensuring a consistent user</span>
<span class="sd">experience, and reducing complexity in navigating the tool&#39;s functionalities. By using these functions,</span>
<span class="sd">the Interactive Music Analysis Tool (I-MaT) system provides an interactive and user-friendly command-line interface</span>
<span class="sd">for music analysis.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">textwrap</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">from</span> <span class="nn">iMaT.src.constants</span> <span class="kn">import</span> <span class="n">TITLE_TEXT</span>
<span class="kn">from</span> <span class="nn">iMaT.src.utils.error_handling</span> <span class="kn">import</span> <span class="n">handle_error</span>

<span class="n">menu_stack</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Stack to keep track of the previous menus</span>


<div class="viewcode-block" id="display_menu_undirected"><a class="viewcode-back" href="../../../module_files/src.cli.html#src.cli.menu_constructors.display_menu_undirected">[docs]</a><span class="k">def</span> <span class="nf">display_menu_undirected</span><span class="p">(</span><span class="n">menu_content_dict</span><span class="p">:</span> <span class="nb">callable</span><span class="p">,</span> <span class="n">parent_menu_func</span><span class="p">:</span> <span class="nb">callable</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Display a menu allowing the user to navigate between different levels.</span>

<span class="sd">    This function prints an interactive, navigation-capable menu from a dictionary.</span>
<span class="sd">    The dictionary represents the current menu, including its title, guidelines, requested input, and menu entries.</span>
<span class="sd">    Each menu entry consists of a title, function or menu control keyword, and description.</span>

<span class="sd">    This function allows the user to navigate freely between the different menu levels. This includes both backward</span>
<span class="sd">    and forward navigation.</span>

<span class="sd">    If the user selects a function that returns a dictionary (i.e., a submenu), the function enters a sublevel menu.</span>
<span class="sd">    If a function is selected, the function is executed and after its execution, the user will find themselves back</span>
<span class="sd">    in the menu. The user can also return to the parent menu or the main menu by selecting the appropriate options.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    menu_content_dict : function</span>
<span class="sd">        A function returning a dictionary that contains information about the menu entries and displayed texts.</span>
<span class="sd">    parent_menu_func : function, optional</span>
<span class="sd">        A function returning a dictionary representing the parent menu from which the current menu was accessed.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">    This is a usage example where we consider four types of entries in our menu:</span>
<span class="sd">    going to a submenu, executing a function, and returning to the main menu or a parent menu.</span>

<span class="sd">    1. If a function that returns a dictionary (representing a new menu structure) is selected by the user,</span>
<span class="sd">       such as `submenu_entries_dict`, a sublevel menu is entered.</span>
<span class="sd">    2. If the user selects a function, such as `some_function`, the function is executed and after its execution,</span>
<span class="sd">       the user will find themselves back in the menu where the function was selected.</span>
<span class="sd">    3. If the user selects the &quot;BACK: Return to the last menu&quot; option, they are returned to the parent menu.</span>
<span class="sd">    4. If the user selects the &quot;MAIN: Return to the main menu&quot; option, they are returned to the main menu.</span>

<span class="sd">    &gt;&gt;&gt; example_menu_entries_dict = {</span>
<span class="sd">    ...     &quot;menu_displayed_text&quot;: [</span>
<span class="sd">    ...         &quot;Menu Titel&quot;,</span>
<span class="sd">    ...         &quot;Please select one of the following menu options by entering the corresponding index number:&quot;,</span>
<span class="sd">    ...         &quot;Which menu item should be executed? (&lt;No. of menu item&gt;): &quot;,</span>
<span class="sd">    ...         [&quot;Menu item titel&quot;, &quot;&lt;Short Explanation&gt;&quot;],</span>
<span class="sd">    ...     ],</span>
<span class="sd">    ...     &quot;menu_entries&quot;: [</span>
<span class="sd">    ...         [&quot;ABBR: Option 1 titel&quot;, example_submenu_entries_dict, &quot;&lt;Goes to submenu&gt;&quot;],</span>
<span class="sd">    ...         [&quot;ABBR: Option 2 titel&quot;, example_some_function, &quot;&lt;Executes some function&gt;&quot;],</span>
<span class="sd">    ...         [&quot;ABBR: Option 3 titel&quot;, example_another_function, &quot;&lt;Executes another function&gt;&quot;],</span>
<span class="sd">    ...         [&quot;BACK: Return to the last menu&quot;, &#39;back&#39;, &quot;&lt;Returns to the parent menu&gt;&quot;],</span>
<span class="sd">    ...     ]</span>
<span class="sd">    ... }</span>
<span class="sd">    ...</span>
<span class="sd">    &gt;&gt;&gt; display_menu_undirected(example_menu_entries_dict)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>

            <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;cls&quot;</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;nt&quot;</span> <span class="k">else</span> <span class="s2">&quot;clear&quot;</span><span class="p">)</span>
            <span class="c1"># below: displays the menu</span>

            <span class="nb">print</span><span class="p">(</span><span class="n">TITLE_TEXT</span><span class="p">)</span>

            <span class="c1">#first_level_menu_entries = start_menu_entries</span>

            <span class="n">menu_entries</span> <span class="o">=</span> <span class="n">menu_content_dict</span><span class="p">()[</span><span class="s2">&quot;menu_entries&quot;</span><span class="p">]</span>

            <span class="n">menu_title</span> <span class="o">=</span> <span class="n">menu_content_dict</span><span class="p">()[</span><span class="s2">&quot;menu_displayed_text&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">menu_guideline</span> <span class="o">=</span> <span class="n">menu_content_dict</span><span class="p">()[</span><span class="s2">&quot;menu_displayed_text&quot;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">menu_requested_input</span> <span class="o">=</span> <span class="n">menu_content_dict</span><span class="p">()[</span><span class="s2">&quot;menu_displayed_text&quot;</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">menu_columns_description</span> <span class="o">=</span> <span class="n">menu_content_dict</span><span class="p">()[</span><span class="s2">&quot;menu_displayed_text&quot;</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>

            <span class="nb">print</span><span class="p">(</span><span class="n">menu_title</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

            <span class="nb">print</span><span class="p">(</span><span class="n">menu_guideline</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

            <span class="n">print_menu_entries</span><span class="p">(</span><span class="n">menu_columns_description</span><span class="p">,</span> <span class="n">menu_entries</span><span class="p">)</span>

            <span class="n">userInput_menuSelection</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="n">menu_requested_input</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

            <span class="c1"># below: handles the user input</span>

            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">userInput_menuSelection</span><span class="p">)</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="nb">str</span><span class="o">.</span><span class="n">isdigit</span><span class="p">(</span><span class="n">userInput_menuSelection</span><span class="p">):</span>
                <span class="n">userInput_menuSelection_int</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">userInput_menuSelection</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>

                <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">userInput_menuSelection_int</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">menu_entries</span><span class="p">):</span>

                    <span class="n">result</span> <span class="o">=</span> <span class="n">menu_entries</span><span class="p">[</span><span class="n">userInput_menuSelection_int</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                        <span class="c1"># If the result is a tuple, we consider it as (function, arguments)</span>

                        <span class="n">function</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="n">result</span>
                        <span class="n">function</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

                    <span class="k">elif</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="s1">&#39;back&#39;</span> <span class="ow">and</span> <span class="n">menu_stack</span><span class="p">:</span>
                            <span class="c1"># Pop the previous menu from the stack and navigate to it</span>
                            <span class="n">previous_menu</span> <span class="o">=</span> <span class="n">menu_stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                            <span class="c1"># Recursive call with the parent menu entries function and the parent of the parent menu</span>
                            <span class="n">display_menu_undirected</span><span class="p">(</span><span class="n">previous_menu</span><span class="p">[</span><span class="s2">&quot;menu_entries_func&quot;</span><span class="p">],</span> <span class="n">previous_menu</span><span class="p">[</span><span class="s2">&quot;parent_menu_func&quot;</span><span class="p">])</span>
                            <span class="k">break</span>

                    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                        <span class="c1"># If the result is a tuple, we consider it as (function, arguments)</span>

                        <span class="n">function</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="n">result</span>
                        <span class="n">function</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">(),</span> <span class="nb">dict</span><span class="p">):</span>
                        <span class="c1"># if the result is a dict, call the function with the display_menu_undirected function with the</span>
                        <span class="c1"># result Push the current menu to the stack and navigate to the new menu</span>
                        <span class="n">menu_stack</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                            <span class="s2">&quot;menu_entries_func&quot;</span><span class="p">:</span> <span class="n">menu_content_dict</span><span class="p">,</span>
                            <span class="s2">&quot;parent_menu_func&quot;</span><span class="p">:</span> <span class="n">parent_menu_func</span>
                        <span class="p">})</span>
                        <span class="c1"># if the result is not a dict, the function is called by executing isinstance(result(), dict)</span>
                        <span class="n">display_menu_undirected</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">menu_content_dict</span><span class="p">)</span>
                        <span class="k">break</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">dummy</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Please choose a value from the list&quot;</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

                    <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;&lt;To continue, please press Enter&gt;&quot;</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Please choose a value from the list&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

                <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;&lt;To continue, please press Enter&gt;&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">handle_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div>


<div class="viewcode-block" id="display_menu_request_selection"><a class="viewcode-back" href="../../../module_files/src.cli.html#src.cli.menu_constructors.display_menu_request_selection">[docs]</a><span class="k">def</span> <span class="nf">display_menu_request_selection</span><span class="p">(</span><span class="n">imat_data_container</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">min_column_width</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Display menu items in a console in a formatted manner.</span>

<span class="sd">    This function receives a dictionary, which includes a description of the menu items and a</span>
<span class="sd">    list of menu entries. The function uses this information to print the content in a well-formatted manner.</span>

<span class="sd">    The menu items are displayed in the order they are present in the dictionary. After the menu items are displayed,</span>
<span class="sd">    the function requests user input to choose a menu item. The input is validated to make sure it is a valid choice</span>
<span class="sd">    from the menu items. The function then returns the corresponding &quot;string to return&quot; of the chosen menu item.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    imat_data_container : dict</span>
<span class="sd">        A dictionary containing the menu items of an analysis.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        The &quot;string to return&quot; of the chosen menu item.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    Here is how to use `display_menu_print_results`.</span>
<span class="sd">    In this example, we have a dictionary `imat_data_container` that represents the menu items.</span>

<span class="sd">    &gt;&gt;&gt; imat_data_container = {</span>
<span class="sd">    ...     &quot;menu_displayed_text&quot;: [</span>
<span class="sd">    ...         &quot;Menu Title&quot;,</span>
<span class="sd">    ...         &quot;Please select one of the following menu options by entering the corresponding index number:&quot;,</span>
<span class="sd">    ...         &quot;Which menu item do you want to select? (&lt;No. of menu item&gt;): &quot;,</span>
<span class="sd">    ...         [&quot;Menu item title&quot;, &quot;&lt;Short Explanation&gt;&quot;],</span>
<span class="sd">    ...     ],</span>
<span class="sd">    ...     &quot;menu_entries&quot;: [</span>
<span class="sd">    ...         [&quot;ABBR: Option 1 title&quot;, &quot;string to return 1&quot;, &quot;&lt;Returns option 1&gt;&quot;],</span>
<span class="sd">    ...         [&quot;ABBR: Option 2 title&quot;, &quot;string to return 2&quot;, &quot;&lt;Returns option 2&gt;&quot;],</span>
<span class="sd">    ...         [&quot;ABBR: Option 3 title&quot;, &quot;string to return 3&quot;, &quot;&lt;Returns option 3&gt;&quot;],</span>
<span class="sd">    ...     ]</span>
<span class="sd">    ... }</span>

<span class="sd">    &gt;&gt;&gt; display_menu_request_selection(imat_data_container, min_column_width)</span>

<span class="sd">    Note: the actual output of `display_menu_print_results` depends on the dictionary `imat_data_container`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;cls&quot;</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;nt&quot;</span> <span class="k">else</span> <span class="s2">&quot;clear&quot;</span><span class="p">)</span>

            <span class="nb">print</span><span class="p">(</span><span class="n">TITLE_TEXT</span><span class="p">)</span>

            <span class="c1"># below: displays the menu</span>

            <span class="n">menu_entries</span> <span class="o">=</span> <span class="n">imat_data_container</span><span class="p">[</span><span class="s2">&quot;menu_entries&quot;</span><span class="p">]</span>

            <span class="n">menu_title</span> <span class="o">=</span> <span class="n">imat_data_container</span><span class="p">[</span><span class="s2">&quot;menu_displayed_text&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">menu_guideline</span> <span class="o">=</span> <span class="n">imat_data_container</span><span class="p">[</span><span class="s2">&quot;menu_displayed_text&quot;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">menu_requested_input</span> <span class="o">=</span> <span class="n">imat_data_container</span><span class="p">[</span><span class="s2">&quot;menu_displayed_text&quot;</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">menu_columns_description</span> <span class="o">=</span> <span class="n">imat_data_container</span><span class="p">[</span><span class="s2">&quot;menu_displayed_text&quot;</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>

            <span class="nb">print</span><span class="p">(</span><span class="n">menu_title</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

            <span class="nb">print</span><span class="p">(</span><span class="n">menu_guideline</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

            <span class="n">print_menu_entries</span><span class="p">(</span><span class="n">menu_columns_description</span><span class="p">,</span> <span class="n">menu_entries</span><span class="p">,</span> <span class="n">min_col_width</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

            <span class="n">user_choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="n">menu_requested_input</span><span class="p">)</span>

            <span class="c1"># Validate the user&#39;s input</span>
            <span class="k">if</span> <span class="n">user_choice</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="nb">int</span><span class="p">(</span><span class="n">user_choice</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">menu_entries</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">menu_entries</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">user_choice</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Invalid choice. Please choose a valid menu item.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;&lt;To continue, please press Enter&gt;&quot;</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">handle_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div>


<div class="viewcode-block" id="display_menu_print_results"><a class="viewcode-back" href="../../../module_files/src.cli.html#src.cli.menu_constructors.display_menu_print_results">[docs]</a><span class="k">def</span> <span class="nf">display_menu_print_results</span><span class="p">(</span><span class="n">results_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Display analysis results in a console in a formatted manner.</span>

<span class="sd">    This function receives a dictionary, which includes a description of the results and a</span>
<span class="sd">    list of result entries. The function uses this information to print the content in a well-formatted manner.</span>

<span class="sd">    Note that if the results are stored in a pandas DataFrame, they need to be converted to an I-MaT data container</span>
<span class="sd">    using `util_convert_pd_dataframe_to_imat_datacont()` function before being passed to this function.</span>

<span class="sd">    The results are displayed in the order they are present in the dictionary. After the results are displayed,</span>
<span class="sd">    the function requests user input to continue. However, the input does not trigger any further actions within</span>
<span class="sd">    this function itself. Yet, when used in combination with the `display_menu_undirected()` function, this user input may serve as a pause before navigating to other parts of a broader workflow,</span>
<span class="sd">    such as exporting results or returning to the respective parent menu.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    results_dict : dict</span>
<span class="sd">        A dictionary containing the results of an analysis. If the results are saved within a pandas DataFrame,</span>
<span class="sd">        they need to be converted to an I-MaT data container using `util_convert_pd_dataframe_to_imat_datacont()`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        The user input collected after displaying the text block.</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    display_menu_undirected : For displaying menus with both backward and forward navigation.</span>
<span class="sd">    util_convert_pd_dataframe_to_imat_datacont : For converting pandas DataFrame to I-MaT data container</span>
<span class="sd">    before passing to this function.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    Here is how to use `display_menu_print_results`.</span>
<span class="sd">    In this example, we have a pandas DataFrame `df` that needs to be converted to an I-MaT data container before being</span>
<span class="sd">    passed to the `display_menu_print_results` function.</span>

<span class="sd">    &gt;&gt;&gt; df = pd.DataFrame({&#39;col1&#39;: [&#39;Result 1&#39;, &#39;Result 2&#39;, &#39;Result 3&#39;],</span>
<span class="sd">    ...                    &#39;col2&#39;: [&quot;&lt;Displays the 1st Column&gt;&quot;, &quot;&lt;Displays the 1st Column&gt;&quot;, &quot;&lt;Displays the 1st Column&gt;&quot;],</span>
<span class="sd">    ...                    &#39;col3&#39;: [&quot;&lt;Displays the 2nd Column&gt;&quot;, &quot;&lt;Displays the 2nd Column&gt;&quot;, &quot;&lt;Displays the 2nd Column&gt;&quot;]})</span>

<span class="sd">    &gt;&gt;&gt; results_dict = util_convert_pd_dataframe_to_imat_datacont(df)</span>

<span class="sd">    &gt;&gt;&gt; display_menu_print_results(results_dict, print_all_columns=True)</span>

<span class="sd">    A I-MaT data container can directly be passed to the `display_menu_print_results` function:</span>

<span class="sd">    &gt;&gt;&gt; imat_data_container = {</span>
<span class="sd">    ...    &quot;menu_displayed_text&quot;: [</span>
<span class="sd">    ...        &quot;Analysis Results&quot;,</span>
<span class="sd">    ...        &quot;Please see the following analysis results:&quot;,</span>
<span class="sd">    ...        &quot;&lt;To continue, please press Enter&gt;&quot;,</span>
<span class="sd">    ...        [&quot;&lt;Identifier&gt;&quot;, &quot;&lt;Description&gt;&quot;, &quot;&lt;Description&gt;&quot;],</span>
<span class="sd">    ...    ],</span>
<span class="sd">    ...    &quot;menu_entries_results&quot;: [</span>
<span class="sd">    ...        [&quot;Result 1&quot;, &quot;&lt;Displays the 1st Column&gt;&quot;, &quot;&lt;Displays the 2nd Column &gt;&quot;],</span>
<span class="sd">    ...        [&quot;Result 2&quot;, &quot;&lt;Displays the 1st Column&gt;&quot;, &quot;&lt;Displays the 2nd Column &gt;&quot;],</span>
<span class="sd">    ...        [&quot;Result 3&quot;, &quot;&lt;Displays the 1st Column&gt;&quot;, &quot;&lt;Displays the 2nd Column &gt;&quot;],</span>
<span class="sd">    ...    ]</span>
<span class="sd">    ...}</span>

<span class="sd">    &gt;&gt;&gt; display_menu_print_results(imat_data_container, print_all_columns=True)</span>

<span class="sd">    Note: the actual output of `display_menu_print_results` depends on the dictionary created by</span>
<span class="sd">    `util_convert_pd_dataframe_to_imat_datacont()` and would show three result lines in this case.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;cls&quot;</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;nt&quot;</span> <span class="k">else</span> <span class="s2">&quot;clear&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">results_dict</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
            <span class="n">results_dict</span> <span class="o">=</span> <span class="n">util_convert_pd_dataframe_to_imat_datacont</span><span class="p">(</span><span class="n">results_dict</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">TITLE_TEXT</span><span class="p">)</span>

        <span class="c1"># below: displays the menu</span>

        <span class="n">menu_entries</span> <span class="o">=</span> <span class="n">results_dict</span><span class="p">[</span><span class="s2">&quot;menu_entries_results&quot;</span><span class="p">]</span>

        <span class="n">menu_title</span> <span class="o">=</span> <span class="n">results_dict</span><span class="p">[</span><span class="s2">&quot;menu_displayed_text&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">menu_guideline</span> <span class="o">=</span> <span class="n">results_dict</span><span class="p">[</span><span class="s2">&quot;menu_displayed_text&quot;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">menu_requested_input</span> <span class="o">=</span> <span class="n">results_dict</span><span class="p">[</span><span class="s2">&quot;menu_displayed_text&quot;</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">menu_columns_description</span> <span class="o">=</span> <span class="n">results_dict</span><span class="p">[</span><span class="s2">&quot;menu_displayed_text&quot;</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">menu_title</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">menu_guideline</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="n">print_menu_entries</span><span class="p">(</span><span class="n">menu_columns_description</span><span class="p">,</span> <span class="n">menu_entries</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="n">print_all_columns</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">input</span><span class="p">(</span><span class="n">menu_requested_input</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">handle_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div>


<div class="viewcode-block" id="display_menu_print_textblock"><a class="viewcode-back" href="../../../module_files/src.cli.html#src.cli.menu_constructors.display_menu_print_textblock">[docs]</a><span class="k">def</span> <span class="nf">display_menu_print_textblock</span><span class="p">(</span><span class="n">text_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">textblock_sep_line</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Prints a formatted text block in the console based on a provided dictionary.</span>

<span class="sd">    This function takes a dictionary which includes a title, a request, column descriptions, and an input prompt,</span>
<span class="sd">    as well as a list of text entries to display. It uses this information to print the content in a formatted</span>
<span class="sd">    manner on the console.</span>

<span class="sd">    The text_dict should be a dictionary that contains two key-value pairs:</span>
<span class="sd">    1. &quot;menu_displayed_text&quot;: A list containing the menu title, request, columns description, and input prompt.</span>
<span class="sd">    2. &quot;menu_entries_text&quot;: A list containing pairs of title and corresponding text messages to be displayed.</span>

<span class="sd">    After displaying the text blocks, it requests a user input to continue. The input is not validated</span>
<span class="sd">    and does not trigger any further actions within this function itself.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    text_dict : dict</span>
<span class="sd">        A dictionary containing custom text for display.</span>
<span class="sd">    textblock_sep_line : bool</span>
<span class="sd">        If True, a separator line is printed after each text block.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        The user input collected after displaying the text block.</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    print_textblock : function that prints out a block of text given in a list or a single string.</span>
<span class="sd">    example_text_dict : function that generates a dictionary representing text content.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    Here is how to use `display_menu_print_textblock`:</span>

<span class="sd">    The function `example_text_dict` generates a dictionary that represents a text block to be displayed.</span>
<span class="sd">    This dictionary is then passed as a parameter to the `display_menu_print_textblock` function:</span>

<span class="sd">    &gt;&gt;&gt;     example_text_dict {</span>
<span class="sd">    ...         &quot;menu_displayed_text&quot;: [</span>
<span class="sd">    ...             &quot;-- message to the user --&quot;,</span>
<span class="sd">    ...             &quot;Please read the following message:&quot;,</span>
<span class="sd">    ...             &quot;&lt;To continue, please press Enter&gt;&quot;,</span>
<span class="sd">    ...             [&quot;&quot;, &quot;Message&quot;],</span>
<span class="sd">    ...         ],</span>
<span class="sd">    ...         &quot;menu_entries_text&quot;: [</span>
<span class="sd">    ...             [&quot;Message 1&quot;, &quot;Textblock 1&quot;],</span>
<span class="sd">    ...             [&quot;Message 2&quot;, &quot;Textblock 2&quot;],</span>
<span class="sd">    ...             [&quot;Message 3&quot;, &quot;Textblock 3&quot;],</span>
<span class="sd">    ...         ]</span>
<span class="sd">    ...     }</span>
<span class="sd">    &gt;&gt;&gt; display_menu_print_textblock(example_text_dict)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;cls&quot;</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;nt&quot;</span> <span class="k">else</span> <span class="s2">&quot;clear&quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">TITLE_TEXT</span><span class="p">)</span>

        <span class="c1"># below: displays the menu</span>

        <span class="n">menu_title</span> <span class="o">=</span> <span class="n">text_dict</span><span class="p">[</span><span class="s2">&quot;menu_displayed_text&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">menu_guideline</span> <span class="o">=</span> <span class="n">text_dict</span><span class="p">[</span><span class="s2">&quot;menu_displayed_text&quot;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">menu_requested_input</span> <span class="o">=</span> <span class="n">text_dict</span><span class="p">[</span><span class="s2">&quot;menu_displayed_text&quot;</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">menu_columns_description</span> <span class="o">=</span> <span class="n">text_dict</span><span class="p">[</span><span class="s2">&quot;menu_displayed_text&quot;</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">menu_title</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">menu_guideline</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="n">print_textblock</span><span class="p">(</span><span class="n">menu_columns_description</span><span class="p">,</span> <span class="n">text_dict</span><span class="p">[</span><span class="s2">&quot;menu_entries_text&quot;</span><span class="p">],</span> <span class="n">textblock_sep_line</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">input</span><span class="p">(</span><span class="n">menu_requested_input</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">handle_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div>


<div class="viewcode-block" id="print_textblock"><a class="viewcode-back" href="../../../module_files/src.cli.html#src.cli.menu_constructors.print_textblock">[docs]</a><span class="k">def</span> <span class="nf">print_textblock</span><span class="p">(</span><span class="n">menu_columns_description</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">menu_entries</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">list</span><span class="p">],</span> <span class="n">textblock_sep_line</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Prints a formatted text block in the console.</span>

<span class="sd">    This function takes in a description for menu columns, a list of menu entries, and a boolean indicating whether</span>
<span class="sd">    to separate text blocks with a line. It uses this information to print a formatted text block on the console.</span>

<span class="sd">    The function is used as a helper within `display_menu_print_textblock` which not only prints the text but also</span>
<span class="sd">    displays a full menu above the printed text. However, `print_textblock` can be independently used to print text</span>
<span class="sd">    without displaying a full menu.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    menu_columns_description : list</span>
<span class="sd">        A list containing column descriptions. For instance, [&quot;&lt;Identifier&gt;&quot;, &quot;&lt;Description&gt;&quot;].</span>
<span class="sd">    menu_entries : list</span>
<span class="sd">        A list of lists where each sublist contains the title and message for a text block.</span>
<span class="sd">    textblock_sep_line : bool, optional</span>
<span class="sd">        If True, a separator line is printed after each text block. By default, it is set to True.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>

<span class="sd">    display_menu_print_textblock : For displaying custom text blocks using the same structure as a menu.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    Here is how to use `print_textblock`:</span>

<span class="sd">    &gt;&gt;&gt; menu_columns_description = [&quot;&quot;, &quot;Message&quot;]</span>
<span class="sd">    &gt;&gt;&gt; menu_entries = [</span>
<span class="sd">    ...     [&quot;Message 1&quot;, &quot;Textblock 1&quot;],</span>
<span class="sd">    ...     [&quot;Message 2&quot;, &quot;Textblock 2&quot;],</span>
<span class="sd">    ...     [&quot;Message 3&quot;, &quot;Textblock 3&quot;],</span>
<span class="sd">    ... ]</span>
<span class="sd">    &gt;&gt;&gt; print_textblock(menu_columns_description, menu_entries)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">first_col_width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">menu_entries</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">menu_columns_description</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="o">+</span> <span class="mi">5</span>
        <span class="c1"># &quot;+5&quot;: Or however wide you want the title column to be</span>

        <span class="n">message_col_width</span> <span class="o">=</span> <span class="mi">80</span>  <span class="c1"># Or however wide you want the message column to be</span>
        <span class="c1"># Print each column name</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">menu_columns_description</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}{</span><span class="s1">&#39;&#39;</span><span class="si">:{</span><span class="n">first_col_width</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">menu_columns_description</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="si">}}</span><span class="s2"> </span><span class="si">{</span><span class="n">menu_columns_description</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="c1"># Now print each menu item, wrapped if it exceeds 80 characters.</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">menu_entries</span><span class="p">:</span>
            <span class="n">title</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="n">row</span>
            <span class="n">wrapped_message</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">message_col_width</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">second_col_line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">wrapped_message</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">title</span><span class="si">:{</span><span class="n">first_col_width</span><span class="si">}}</span><span class="s2"> </span><span class="si">{</span><span class="n">second_col_line</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;&#39;</span><span class="si">:{</span><span class="n">first_col_width</span><span class="si">}}</span><span class="s2"> </span><span class="si">{</span><span class="n">second_col_line</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">textblock_sep_line</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>  <span class="c1"># Empty line after each message</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">textblock_sep_line</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">handle_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div>


<div class="viewcode-block" id="print_menu_entries"><a class="viewcode-back" href="../../../module_files/src.cli.html#src.cli.menu_constructors.print_menu_entries">[docs]</a><span class="k">def</span> <span class="nf">print_menu_entries</span><span class="p">(</span><span class="n">menu_columns_description</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">menu_entries</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">list</span><span class="p">],</span> <span class="n">min_col_width</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">print_all_columns</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Prints a formatted list of menu entries in the console.</span>

<span class="sd">    This function takes a list of menu entries and column descriptions, along with an optional minimum column width.</span>
<span class="sd">    It formats and prints the entries in a table-like structure. An additional optional parameter controls whether all</span>
<span class="sd">    columns or all but the second column are printed.</span>

<span class="sd">    This function is used as a helper within `display_menu_undirected` and `display_menu_print_results` for displaying menu options or analysis results. However, `print_menu_entries`</span>
<span class="sd">    can also be used independently to print a list of results or menu entries without displaying a full menu.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    menu_columns_description : list</span>
<span class="sd">        A list containing column descriptions.</span>
<span class="sd">    menu_entries : list[list]</span>
<span class="sd">        A list of menu entries. Each entry is a list itself containing strings representing each column&#39;s data.</span>
<span class="sd">    min_col_width : int, optional</span>
<span class="sd">        Minimum width for each column. Default is 45.</span>
<span class="sd">    print_all_columns : bool, optional</span>
<span class="sd">        If True, all columns are printed. If False (default), all columns but the second one are printed.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    display_menu_undirected : For displaying menus with both backward and forward navigation.</span>
<span class="sd">    display_menu_print_results : For displaying a list of analysis results.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    Here is how to use `print_menu_entries`:</span>

<span class="sd">    &gt;&gt;&gt; menu_columns_description = [&quot;&lt;Identifier&gt;&quot;, &quot;&lt;Description&gt;&quot;, &quot;&lt;Description&gt;&quot;]</span>
<span class="sd">    &gt;&gt;&gt; menu_entries = [</span>
<span class="sd">    ...        [&quot;Result 1&quot;, &quot;&lt;Displays the 1st Column&gt;&quot;, &quot;&lt;Displays the 2nd Column&gt;&quot;],</span>
<span class="sd">    ...        [&quot;Result 2&quot;, &quot;&lt;Displays the 1st Column&gt;&quot;, &quot;&lt;Displays the 2nd Column&gt;&quot;],</span>
<span class="sd">    ...        [&quot;Result 3&quot;, &quot;&lt;Displays the 1st Column&gt;&quot;, &quot;&lt;Displays the 2nd Column&gt;&quot;],</span>
<span class="sd">    ...    ]</span>
<span class="sd">    &gt;&gt;&gt; print_menu_entries(menu_columns_description, menu_entries, print_all_columns=True)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">additional_col_width</span> <span class="o">=</span> <span class="mi">5</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">print_all_columns</span><span class="p">:</span>
            <span class="n">menu_entries</span> <span class="o">=</span> <span class="p">[</span><span class="n">entry</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">entry</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">menu_entries</span><span class="p">]</span>

        <span class="c1"># Transpose menu_entries</span>
        <span class="n">menu_entries_transposed</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">menu_entries</span><span class="p">)))</span>

        <span class="c1"># Create list of column widths</span>
        <span class="n">col_widths</span> <span class="o">=</span> <span class="p">[</span><span class="nb">max</span><span class="p">(</span><span class="n">min_col_width</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">))</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">col</span><span class="p">))</span> <span class="o">+</span> <span class="n">additional_col_width</span>
                      <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">menu_entries_transposed</span><span class="p">]</span>

        <span class="c1"># Add headers to col_widths calculation</span>
        <span class="n">col_widths</span> <span class="o">=</span> <span class="p">[</span><span class="nb">max</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">header</span><span class="p">))</span> <span class="k">for</span> <span class="n">w</span><span class="p">,</span> <span class="n">header</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">col_widths</span><span class="p">,</span> <span class="n">menu_columns_description</span><span class="p">)]</span>

        <span class="c1"># Print menu_columns_description in one line</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:&lt;8}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;No.&quot;</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;  &#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">header</span><span class="p">,</span> <span class="n">width</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">menu_columns_description</span><span class="p">,</span> <span class="n">col_widths</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;{:&lt;</span><span class="si">{}</span><span class="s2">}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">header</span><span class="p">,</span> <span class="n">width</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;  &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Print menu_entries in multiple lines</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">menu_entries</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:&lt;8}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">index</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;  &#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">entry</span><span class="p">,</span> <span class="n">width</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">col_widths</span><span class="p">)):</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;{:&lt;</span><span class="si">{}</span><span class="s2">}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">entry</span><span class="p">,</span> <span class="n">width</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;  &#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">handle_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div>


<div class="viewcode-block" id="util_convert_pd_dataframe_to_imat_datacont"><a class="viewcode-back" href="../../../module_files/src.cli.html#src.cli.menu_constructors.util_convert_pd_dataframe_to_imat_datacont">[docs]</a><span class="k">def</span> <span class="nf">util_convert_pd_dataframe_to_imat_datacont</span><span class="p">(</span><span class="n">pd_dataframe</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
                                               <span class="n">menu_title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Analysis Results&quot;</span><span class="p">,</span>
                                               <span class="n">menu_guideline</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Please see the following analysis results:&quot;</span><span class="p">,</span>
                                               <span class="n">menu_requested_input</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&lt;To continue, please press Enter&gt;&quot;</span><span class="p">,</span>
                                               <span class="n">menu_columns_description</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts a pandas DataFrame to an I-MaT data container format.</span>

<span class="sd">    This function converts a pandas DataFrame into a data format compatible with I-MaT&#39;s display functions. It&#39;s</span>
<span class="sd">    particularly useful for preparing data to be displayed in the console via `display_menu_print_results()`.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    pd_dataframe : pd.DataFrame</span>
<span class="sd">        DataFrame containing the data to be displayed.</span>
<span class="sd">    menu_title : str, optional</span>
<span class="sd">        Title for the data display. Defaults to &quot;Analysis Results&quot;.</span>
<span class="sd">    menu_guideline : str, optional</span>
<span class="sd">        Instruction for the user. Defaults to &quot;Please see the following analysis results:&quot;.</span>
<span class="sd">    menu_requested_input : str, optional</span>
<span class="sd">        Prompt for user input. Defaults to &quot;&lt;To continue, please press Enter&gt;&quot;.</span>
<span class="sd">    menu_columns_description : List[str], optional</span>
<span class="sd">        Descriptions for data columns. If not provided, the DataFrame&#39;s column names will be used.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    dict</span>
<span class="sd">        A dictionary in I-MaT data container format that can be used by the `display_menu_print_results()` function.</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    display_menu_print_results: Use this function to display the converted DataFrame in console.</span>
<span class="sd">    util_convert_imat_datacont_to_pd_dataframe: For the reverse operation - converting an I-MaT data container</span>
<span class="sd">    into a pandas DataFrame before processing.</span>


<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">    ...     &#39;col1&#39;: [&#39;Result 1&#39;, &#39;Result 2&#39;, &#39;Result 3&#39;],</span>
<span class="sd">    ...     &#39;col2&#39;: [&#39;&lt;Displays the 1st Column&gt;&#39;, &#39;&lt;Displays the 1st Column&gt;&#39;, &#39;&lt;Displays the 1st Column&gt;&#39;],</span>
<span class="sd">    ...     &#39;col3&#39;: [&#39;&lt;Displays the 2nd Column&gt;&#39;, &#39;&lt;Displays the 2nd Column&gt;&#39;, &#39;&lt;Displays the 2nd Column&gt;&#39;]</span>
<span class="sd">    ... })</span>

<span class="sd">    &gt;&gt;&gt; results_dict = util_convert_pd_dataframe_to_imat_datacont(df)</span>
<span class="sd">    &gt;&gt;&gt; display_menu_print_results(results_dict)</span>

<span class="sd">    This will display a result set with 3 rows in the console. The actual output is determined by the dictionary</span>
<span class="sd">    returned from `util_convert_pd_dataframe_to_imat_datacont()`.</span>

<span class="sd">    An I-MaT data container created from a DataFrame would look like this:</span>

<span class="sd">    &gt;&gt;&gt; def example_analysis_results_dict():</span>
<span class="sd">    ...     return {</span>
<span class="sd">    ...         &quot;menu_displayed_text&quot;: [</span>
<span class="sd">    ...             &quot;Analysis Results&quot;,</span>
<span class="sd">    ...             &quot;Please see the following analysis results:&quot;,</span>
<span class="sd">    ...             &quot;&lt;To continue, please press Enter&gt;&quot;,</span>
<span class="sd">    ...             [&quot;&lt;Identifier&gt;&quot;, &quot;&lt;Description&gt;&quot;, &quot;&lt;Description&gt;&quot;],</span>
<span class="sd">    ...         ],</span>
<span class="sd">    ...         &quot;menu_entries_results&quot;: [</span>
<span class="sd">    ...             [&quot;Result 1&quot;, &quot;&lt;Displays the 1st Column&gt;&quot;, &quot;&lt;Displays the 2nd Column&gt;&quot;],</span>
<span class="sd">    ...             [&quot;Result 2&quot;, &quot;&lt;Displays the 1st Column&gt;&quot;, &quot;&lt;Displays the 2nd Column&gt;&quot;],</span>
<span class="sd">    ...             [&quot;Result 3&quot;, &quot;&lt;Displays the 1st Column&gt;&quot;, &quot;&lt;Displays the 2nd Column&gt;&quot;],</span>
<span class="sd">    ...         ]</span>
<span class="sd">    ...     }</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">menu_columns_description</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># if no menu_columns_description is provided, use the DataFrame&#39;s column names&#39;</span>
            <span class="n">menu_columns_description</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">pd_dataframe</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

        <span class="n">imat_datacont</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;menu_displayed_text&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="n">menu_title</span><span class="p">,</span>
                <span class="n">menu_guideline</span><span class="p">,</span>
                <span class="n">menu_requested_input</span><span class="p">,</span>
                <span class="n">menu_columns_description</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="s2">&quot;menu_entries_results&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">pd_dataframe</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
            <span class="n">imat_datacont</span><span class="p">[</span><span class="s2">&quot;menu_entries_results&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">row</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">imat_datacont</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">handle_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div>


<div class="viewcode-block" id="util_convert_imat_datacont_to_pd_dataframe"><a class="viewcode-back" href="../../../module_files/src.cli.html#src.cli.menu_constructors.util_convert_imat_datacont_to_pd_dataframe">[docs]</a><span class="k">def</span> <span class="nf">util_convert_imat_datacont_to_pd_dataframe</span><span class="p">(</span><span class="n">imat_cont</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts an I-MaT data container to a pandas DataFrame format.</span>

<span class="sd">    This function takes an I-MaT data container and converts it into a pandas DataFrame. It&#39;s an excellent way to</span>
<span class="sd">    facilitate user-friendly, manual data entry, as the vertical orientation of the I-MaT data container is easier to</span>
<span class="sd">    read than a typical pandas DataFrame.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    imat_cont : dict</span>
<span class="sd">        I-MaT data container dictionary containing the data to be converted into a DataFrame.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    pd.DataFrame</span>
<span class="sd">        A DataFrame containing the data from the I-MaT data container.</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    display_menu_print_results: Use this function to display data from the I-MaT data container.</span>
<span class="sd">    util_convert_pd_dataframe_to_imat_datacont: For the reverse operation - converting a pandas DataFrame</span>
<span class="sd">    into an I-MaT data container.</span>


<span class="sd">    Examples</span>
<span class="sd">    --------</span>

<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame({</span>
<span class="sd">    ...     &#39;col1&#39;: [&#39;Result 1&#39;, &#39;Result 2&#39;, &#39;Result 3&#39;],</span>
<span class="sd">    ...     &#39;col2&#39;: [&#39;&lt;Displays the 1st Column&gt;&#39;, &#39;&lt;Displays the 1st Column&gt;&#39;, &#39;&lt;Displays the 1st Column&gt;&#39;],</span>
<span class="sd">    ...     &#39;col3&#39;: [&#39;&lt;Displays the 2nd Column&gt;&#39;, &#39;&lt;Displays the 2nd Column&gt;&#39;, &#39;&lt;Displays the 2nd Column&gt;&#39;]</span>
<span class="sd">    ... })</span>

<span class="sd">    &gt;&gt;&gt; imat_cont = {</span>
<span class="sd">    ...     &quot;menu_displayed_text&quot;: [</span>
<span class="sd">    ...         &quot;Analysis Results&quot;,</span>
<span class="sd">    ...         &quot;Please see the following analysis results:&quot;,</span>
<span class="sd">    ...         &quot;&lt;To continue, please press Enter&gt;&quot;,</span>
<span class="sd">    ...         [&quot;&lt;Identifier&gt;&quot;, &quot;&lt;Description&gt;&quot;, &quot;&lt;Description&gt;&quot;],</span>
<span class="sd">    ...     ],</span>
<span class="sd">    ...     &quot;menu_entries_results&quot;: [</span>
<span class="sd">    ...         [&quot;Result 1&quot;, &quot;&lt;Displays the 1st Column&gt;&quot;, &quot;&lt;Displays the 2nd Column&gt;&quot;],</span>
<span class="sd">    ...         [&quot;Result 2&quot;, &quot;&lt;Displays the 1st Column&gt;&quot;, &quot;&lt;Displays the 2nd Column&gt;&quot;],</span>
<span class="sd">    ...         [&quot;Result 3&quot;, &quot;&lt;Displays the 1st Column&gt;&quot;, &quot;&lt;Displays the 2nd Column&gt;&quot;],</span>
<span class="sd">    ...     ]</span>
<span class="sd">    ... }</span>

<span class="sd">    &gt;&gt;&gt; df = util_convert_imat_datacont_to_pd_dataframe(imat_cont)</span>

<span class="sd">    This will convert the I-MaT data container to a DataFrame with 3 rows. The DataFrame can then be used for further</span>
<span class="sd">    data processing or analysis.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">column_names</span> <span class="o">=</span> <span class="n">imat_cont</span><span class="p">[</span><span class="s1">&#39;menu_displayed_text&#39;</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">imat_cont</span><span class="p">[</span><span class="s1">&#39;menu_entries_results&#39;</span><span class="p">]</span>

        <span class="n">pd_dataframe</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">column_names</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">pd_dataframe</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">handle_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">I-MaT</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting Started with I-MaT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contribute.html">How to Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../module_files/src.html">I-MaT: Source Code</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Sebastian Oliver Eck.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
    </div>

    

    
  </body>
</html>